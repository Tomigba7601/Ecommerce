(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{5409:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(5893),a=t(7661),s=t(1594),i=t(7257),o=(t(7294),t(530));function c(e){var n=e.activeStep,t=void 0===n?0:n,c=(0,o.Z)();return(0,r.jsx)(a.Z,{className:c.transparentBackgroud,activeStep:t,alternativeLabel:!0,children:["Login","Shipping Address","Payment Method","Place Order"].map((function(e){return(0,r.jsx)(s.Z,{children:(0,r.jsx)(i.Z,{children:e})},e)}))})}},4941:function(e,n,t){"use strict";t.d(n,{Z:function(){return L}});var r=t(5893),a=t(7757),s=t.n(a),i=t(2137),o=t(7294),c=t(9008),l=t(1664),d=t(7850),u=t(3457),h=t(5834),f=t(5258),p=t(8358),m=t(46),x=t(7812),j=t(9659),g=t(2318),Z=t(2764),v=t(2822),b=t(998),y=t(5517),k=t(5757),C=t(4741),N=t(9570),S=t(9009),w=t(282),_=t(5675),P=t(5639),A=t(3832),M=t(8884),E=t(7298),B=t(8995),O=t(530),I=t(2236),R=t(5877),D=t(6808),T=t.n(D),F=t(1163),W=t(7328),z=t(9669),H=t.n(z);function L(e){var n=e.title,t=e.description,a=e.children,D=(0,F.useRouter)(),z=(0,o.useContext)(I.y),L=z.state,q=z.dispatch,G=L.darkMode,K=L.cart,U=L.userInfo,X=(0,d.A)({typography:{h1:{fontSize:"1.6rem",fontWeight:400,margin:"1rem 0"},h2:{fontSize:"1.4rem",fontWeight:400,margin:"1rem 0"}},palette:{type:G?"dark":"light",primary:{main:"#f0c000"},secondary:{main:"#208080"}}}),V=(0,O.Z)(),Y=(0,o.useState)(!1),J=Y[0],Q=Y[1],$=function(){Q(!1)},ee=(0,o.useState)([]),ne=ee[0],te=ee[1],re=(0,W.Ds)().enqueueSnackbar,ae=function(){var e=(0,i.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H().get("/api/products/categories");case 3:n=e.sent,t=n.data,te(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),re((0,R.b)(e.t0),{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),se=(0,o.useState)(""),ie=se[0],oe=se[1];(0,o.useEffect)((function(){ae()}),[]);var ce=(0,o.useState)(null),le=ce[0],de=ce[1],ue=function(e,n){de(null),n&&D.push(n)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)(c.default,{children:[(0,r.jsx)("title",{children:n?"".concat(n," - Next Amazona"):"Next Amazona"}),t&&(0,r.jsx)("meta",{name:"description",content:t})]}),(0,r.jsxs)(u.Z,{theme:X,children:[(0,r.jsx)(h.ZP,{}),(0,r.jsx)(f.Z,{position:"static",className:V.navbar,children:(0,r.jsxs)(p.Z,{className:V.toolbar,children:[(0,r.jsxs)(m.Z,{display:"flex",alignItems:"center",children:[(0,r.jsx)(x.Z,{edge:"start","aria-label":"open drawer",onClick:function(){Q(!0)},className:V.menuButton,children:(0,r.jsx)(M.Z,{className:V.navbarButton})}),(0,r.jsx)(l.default,{href:"/",passHref:!0,children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(g.Z,{className:V.brand,children:"amazona"})})})]}),(0,r.jsx)(Z.ZP,{anchor:"left",open:J,onClose:$,children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(b.Z,{children:(0,r.jsxs)(m.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,r.jsx)(g.Z,{children:"Shopping by category"}),(0,r.jsx)(x.Z,{"aria-label":"close",onClick:$,children:(0,r.jsx)(E.Z,{})})]})}),(0,r.jsx)(y.Z,{light:!0}),ne.map((function(e){return(0,r.jsx)(l.default,{href:"/search?category=".concat(e),passHref:!0,children:(0,r.jsx)(b.Z,{button:!0,component:"a",onClick:$,children:(0,r.jsx)(k.Z,{primary:e})})},e)}))]})}),(0,r.jsx)("div",{className:V.searchSection,children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),D.push("/search?query=".concat(ie))},className:V.searchForm,children:[(0,r.jsx)(C.Z,{name:"query",className:V.searchInput,placeholder:"Search products",onChange:function(e){oe(e.target.value)}}),(0,r.jsx)(x.Z,{type:"submit",className:V.iconButton,"aria-label":"search",children:(0,r.jsx)(B.Z,{})})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(N.Z,{checked:G,onChange:function(){q({type:G?"DARK_MODE_OFF":"DARK_MODE_ON"});var e=!G;T().set("darkMode",e?"ON":"OFF")}}),(0,r.jsx)(l.default,{href:"/cart",passHref:!0,children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(g.Z,{component:"span",children:K.cartItems.length>0?(0,r.jsx)(S.Z,{color:"secondary",badgeContent:K.cartItems.length,children:"Cart"}):"Cart"})})}),U?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.Z,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){de(e.currentTarget)},className:V.navbarButton,children:U.name}),(0,r.jsxs)(_.Z,{id:"simple-menu",anchorEl:le,keepMounted:!0,open:Boolean(le),onClose:ue,children:[(0,r.jsx)(P.Z,{onClick:function(e){return ue(0,"/profile")},children:"Profile"}),(0,r.jsx)(P.Z,{onClick:function(e){return ue(0,"/order-history")},children:"Order Hisotry"}),U.isAdmin&&(0,r.jsx)(P.Z,{onClick:function(e){return ue(0,"/admin/dashboard")},children:"Admin Dashboard"}),(0,r.jsx)(P.Z,{onClick:function(){de(null),q({type:"USER_LOGOUT"}),T().remove("userInfo"),T().remove("cartItems"),T().remove("shippinhAddress"),T().remove("paymentMethod"),D.push("/")},children:"Logout"})]})]}):(0,r.jsx)(l.default,{href:"/login",passHref:!0,children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(g.Z,{component:"span",children:"Login"})})})]})]})}),(0,r.jsx)(A.Z,{className:V.main,children:a}),(0,r.jsx)("footer",{className:V.footer,children:(0,r.jsx)(g.Z,{children:"All rights reserved. Next Amazona."})})]})]})}},9809:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(5893),a=t(6808),s=t.n(a),i=t(1163),o=t(7294),c=t(2236),l=t(4941),d=t(5409),u=t(530),h=t(2318),f=t(2822),p=t(998),m=t(4436),x=t(7162),j=t(553),g=t(74),Z=t(282),v=t(7328);function b(){var e=(0,v.Ds)(),n=e.enqueueSnackbar,t=e.closeSnackbar,a=(0,u.Z)(),b=(0,i.useRouter)(),y=(0,o.useState)(""),k=y[0],C=y[1],N=(0,o.useContext)(c.y),S=N.state,w=N.dispatch,_=S.cart.shippingAddress;(0,o.useEffect)((function(){_.address?C(s().get("paymentMethod")||""):b.push("/shipping")}),[]);return(0,r.jsxs)(l.Z,{title:"Payment Method",children:[(0,r.jsx)(d.Z,{activeStep:2}),(0,r.jsxs)("form",{className:a.form,onSubmit:function(e){t(),e.preventDefault(),k?(w({type:"SAVE_PAYMENT_METHOD",payload:k}),s().set("paymentMethod",k),b.push("/placeorder")):n("Payment method is required",{variant:"error"})},children:[(0,r.jsx)(h.Z,{component:"h1",variant:"h1",children:"Payment Method"}),(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(p.Z,{children:(0,r.jsx)(m.Z,{component:"fieldset",children:(0,r.jsxs)(x.Z,{"aria-label":"Payment Method",name:"paymentMethod",value:k,onChange:function(e){return C(e.target.value)},children:[(0,r.jsx)(j.Z,{label:"PayPal",value:"PayPal",control:(0,r.jsx)(g.Z,{})}),(0,r.jsx)(j.Z,{label:"Stripe",value:"Stripe",control:(0,r.jsx)(g.Z,{})}),(0,r.jsx)(j.Z,{label:"Cash",value:"Cash",control:(0,r.jsx)(g.Z,{})})]})})}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(Z.Z,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Continue"})}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(Z.Z,{fullWidth:!0,type:"button",variant:"contained",onClick:function(){return b.push("/shipping")},children:"Back"})})]})]})]})}},5877:function(e,n,t){"use strict";t.d(n,{b:function(){return r}});t(7757),t(2137),t(6785),t(4155);var r=function(e){return e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message}},530:function(e,n,t){"use strict";var r=t(6156),a=(0,t(1120).Z)((function(e){return{navbar:{backgroundColor:"#203040","& a":{color:"#ffffff",marginLeft:10}},brand:{fontWeight:"bold",fontSize:"1.5rem"},grow:{flexGrow:1},main:{minHeight:"80vh"},footer:{marginTop:10,textAlign:"center"},section:{marginTop:10,marginBottom:10},form:{width:"100%",maxWidth:800,margin:"0 auto"},navbarButton:{color:"#ffffff",textTransform:"initial"},transparentBackgroud:{backgroundColor:"transparent"},error:{color:"#f04040"},fullWidth:{width:"100%"},reviewForm:{maxWidth:800,width:"100%"},reviewItem:{marginRight:"1rem",borderRight:"1px #808080 solid",paddingRight:"1rem"},toolbar:{justifyContent:"space-between"},menuButton:{padding:0},mt1:{marginTop:"1rem"},searchSection:(0,r.Z)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),searchForm:{border:"1px solid #ffffff",backgroundColor:"#ffffff",borderRadius:5},searchInput:{paddingLeft:5,color:"#000000","& ::placeholder":{color:"#606060"}},iconButton:{backgroundColor:"#f8c040",padding:5,borderRadius:"0 5px 5px 0","& span":{color:"#000000"}},sort:{marginRight:5},fullContainer:{height:"100vh"},mapInputBox:{position:"absolute",display:"flex",left:0,right:0,margin:"10px auto",width:300,height:40,"& input":{width:250}}}}));n.Z=a},5553:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment",function(){return t(9809)}])}},function(e){e.O(0,[961,453,537,798,102,774,888,179],(function(){return n=5553,e(e.s=n);var n}));var n=e.O();_N_E=n}]);